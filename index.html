<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>AgritechIoT Dashboard</title>
<style>
body {
font-family: "Poppins", sans-serif;
background: #fafbf7;
color: #333;
margin: 0;
text-align: center;
}

header {
background-color: #9CD25F;
color: white;
padding: 20px;
font-size: 24px;
box-shadow: 0 2px 5px rgba(0,0,0,0.2);
}

nav {
background-color: #f8f7dc;
padding: 10px;
}

nav a {
color:#9CD25F;
text-decoration: none;
margin: 0 15px;
font-weight: 500;
}

.container {
margin-top: 40px;
}

.card {
display: inline-block;
background: white;
padding: 20px;
border-radius: 12px;
margin: 20px;
box-shadow: 0 4px 8px rgba(0,0,0,0.1);
width: 250px;
}

h2 { color: #9CD25F; }



select {
margin-top: 10px;
padding: 8px;
border-radius: 6px;
border: 1px solid #ccc;
}

footer {
background-color: #f8f7dc;
color: #333;
padding: 10px;
position: fixed;
bottom: 0;
width: 100%;
font-size: 14px;
}
</style>
</head>
<body>

<header id="header">
IoT Environment Dashboard
</header>

<nav>
<a href="index.html" id="nav-dashboard">Dashboard</a>
<a href="about.html" id="nav-about">About Project</a>
</nav>

<div class="container">
<div class="card">
<h2 id="temp-title">Temperature</h2>
<p id="temp">-- °C</p>
</div>

<div>
<label for="lang"> Language:</label>
<select id="lang">
<option value="en">English</option>
<option value="hi">हिन्दी</option>
<option value="ta">தமிழ்</option>
</select>
</div>

<footer id="footer">
Robotopia Project 2025 by Team DAV BGPM
</footer>

<script>
const channelID = "3118657";
const readAPIKey = "UH1LTJ16P4A5RXR4";
const geminiAPIKey = "AIzaSyCBERPpsVpvqSwDrfmF-Jm5X60fw3mJ-kU";

  
const translations = {
en: {
header: " IoT Environment Dashboard",
navDashboard: "Dashboard",
navAbout: "About Project",
tempTitle: "Temperature",
humTitle: "Humidity",
footer: "Robotopia Project 2025 by Team DAV BGPM"
},
hi: {
header: "आईओटी पर्यावरण डैशबोर्ड",
navDashboard: "डैशबोर्ड",
navAbout: "परियोजना के बारे में",
tempTitle: "तापमान",
humTitle: "नमी",
footer: "Robotopia Project 2025 by Team DAV BGPM"
},
ta: {
header: "ஐஓடி சுற்றுச்சூழல் டாஷ்போர்டு",
navDashboard: "டாஷ்போர்டு",
navAbout: "ப்ராஜெக்ட் பற்றி",
tempTitle: "வெப்பநிலை",
humTitle: " ஈரப்பதம்",
footer: "Robotopia Project 2025 by Team DAV BGPM"
}
};

function updateLanguage(lang) {
document.getElementById("header").textContent = translations[lang].header;
document.getElementById("nav-dashboard").textContent = translations[lang].navDashboard;
document.getElementById("nav-about").textContent = translations[lang].navAbout;
document.getElementById("temp-title").textContent = translations[lang].tempTitle;
document.getElementById("hum-title").textContent = translations[lang].humTitle;
document.getElementById("footer").textContent = translations[lang].footer;
}

async function fetchData() {
try {
const response = await fetch(`https://api.thingspeak.com/channels/${channelID}/feeds.json?api_key=${readAPIKey}&results=1`);
const data = await response.json();
const latest = data.feeds[data.feeds.length - 1];
const temp = latest.field1;
const hum = latest.field2;

document.getElementById("temp").textContent = temp + " °C";
document.getElementById("hum").textContent = hum + " %";

} catch (err) {
console.error("Error fetching data:", err);
document.getElementById("ai-text").textContent = "Error fetching sensor data.";
}
}

fetchData();
setInterval(fetchData, 15000);
document.getElementById("lang").addEventListener("change", function() {
updateLanguage(this.value);
fetchData(); 
});

updateLanguage("en");
</script>

</body>
</html>
